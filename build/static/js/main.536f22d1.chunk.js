(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(8),c=a.n(o),s=a(4),i=a(6),l="https://reactnd-books-api.udacity.com",u=localStorage.token;u||(u=localStorage.token=Math.random().toString(36).substr(-8));var f={Accept:"application/json",Authorization:u},d=(a(14),a(3)),h=a.n(d),m=function e(t){return e.PropTypes={categoryTitle:h.a.string.isRequired,booksArr:h.a.array.isRequired,changeCategory:h.a.func.isRequired},r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title"},t.categoryTitle),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},t.booksArr.map(function(e){return r.a.createElement(e,{key:e.id,changeCategory:t.changeCategory,currBook:e})}))))},b=a(0),g=function e(t){e.PropTypes={changeCategory:h.a.func.isRequired,booksArr:h.a.array.isRequired}},k=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!0),u=Object(s.a)(c,2),d=u[0],h=u[1];Object(n.useEffect)(function(){fetch("".concat(l,"/books"),{headers:f}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(e){o(e)})},[]);var k=function(e,t){var n,r,c=a;if(a.find(function(t){return t.id===e.id})){var s=c.findIndex(function(t){return t.id===e.id});c[s].shelf=t}else e.shelf=t,c.push(e);o(c),n=e,r=t,fetch("".concat(l,"/books/").concat(n.id),{method:"PUT",headers:Object(i.a)({},f,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:r})}).then(function(e){return e.json()}),h(!d)};return r.a.createElement("div",{className:"app"},r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/Search",render:function(){return r.a.createElement(g,{changeCategory:k,booksArr:a})}}),r.a.createElement(b.a,{exact:!0,path:"/",render:function(){return r.a.createElement("div",{className:"list-books"},r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads")),r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,r.a.createElement(m,{className:"bookshelf",categoryTitle:"Currently Reading",booksArr:a.filter(function(e){return"currentlyReading"===e.shelf}),changeCategory:k}),r.a.createElement(m,{className:"bookshelf",categoryTitle:"Want to Read",booksArr:a.filter(function(e){return"wantToRead"===e.shelf}),changeCategory:k}),r.a.createElement(m,{className:"bookshelf",categoryTitle:"Read",booksArr:a.filter(function(e){return"read"===e.shelf}),changeCategory:k}))))}})))},y=a(5);a(18);c.a.render(r.a.createElement(y.a,null,r.a.createElement(k,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(20)}},[[9,2,1]]]);
//# sourceMappingURL=main.536f22d1.chunk.js.map